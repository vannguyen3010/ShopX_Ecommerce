@page "/dashboard"
<PageTitle>Home</PageTitle>

<link rel="stylesheet" type="text/css" href="assets/css/style.css">
<link href="css/home.css" rel="stylesheet" />

<div class="page-body">
    <div class="container-fluid">
        <div class="row">

            <P_ChartCart/>

            <P_Categories/>
           
            <P_RevenueReport/>

            <P_BestSellingProduct />

            <P_RecentOrders/>

            <P_Earning/>

        </div>
    </div>

    <div class="container-fluid">
        <footer class="footer">
            <div class="row">
                <div class="col-md-12 footer-copyright text-center">
                    <p class="mb-0">Copyright 2024 © Công ty TNHH ShopX</p>
                </div>
            </div>
        </footer>
    </div>
</div>

@code {
    [CascadingParameter] public Task<AuthenticationState>? AuthenticationState { get; set; }

    protected async override Task OnInitializedAsync()
    {
        await CheckUserAuthentication();
    }
    private async Task CheckUserAuthentication()
    {
        var user = (await AuthenticationState!).User;
        bool isUserAuthenticated = user.Identity!.IsAuthenticated;
        if (!isUserAuthenticated)
            NavigationManager.NavigateTo("/account/login");
    }
}
